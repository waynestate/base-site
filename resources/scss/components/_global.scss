// Restricts the embedded font from combining two characters like "fi"
html {
    font-feature-settings: "liga" 0;
    text-rendering: optimizeLegibility;
}

body {
    @apply min-h-screen flex flex-col;
}

// Links outside of content aren't underlined
a {
    @apply text-green no-underline;
}

@responsive {
    .white-links a {
        @apply text-white underline;

        &:hover {
            @apply no-underline;
        }
    }
}

p {
    @apply mb-4;
}

// Tailwind preflight sets this to .5 which isn't ADA compliant
input::placeholder,
textarea::placeholder {
    @apply opacity-100 text-gray-500;
}

hr {
    @apply border-b border-solid border-gray-200 my-5;
}

blockquote {
    @apply ml-8 my-8 border-l-4 border-gray-400 pl-4 pt-2 pb-1;

    > *:last-child {
        @apply mb-2;
    }

    cite {
        @apply block mb-4;
    }
}

figure {
    @apply mt-2 mb-4 mx-auto;

    // Overriding display: inline-block; from CKEditor
    // so that the caption wraps appropriately
    display: table !important;
    padding: 0 !important;
    clear: both;

    img {
        padding: 0 !important;
    }

    figcaption {
        @apply text-sm text-gray-500 text-left;

        display: table-caption;
        caption-side: bottom;
    }

    @screen mt {
        @apply w-auto mb-4;

        &[style*="float:right"],
        &.float-right {
            @apply ml-6 max-w-half;
        }

        &[style*="float:left"],
        &.float-left {
            @apply mr-6 max-w-half;
        }

        &[style*="text:center"],
        &.text-center {
            @apply ml-auto mr-auto;
        }
    }
}

// Images remain at their specified width
// Text appears above and below for small
@media (max-width: theme('screens.mt')) {
    figure {
        @apply block my-0 mx-auto;

        &[style*="float:right"],
        &[style*="float:left"],
        &.float-right,
        &.float-left {
            float: none !important;
        }
    }
}

// Floated images can only be 50% of column width for readability
@screen mt {
    img {
        &[style*="float:right"],
        &[style*="float:left"] {
            padding: 0 !important;
        }

        &[style*="float:right"] {
            @apply ml-6 my-2 max-w-half;
        }

        &[style*="float:left"] {
            @apply mr-6 my-2 max-w-half;
        }
    }
}

// Firefox uses the outline focus color as the text color. Since our overall background is white we need to change it.
a.text-white:-moz-focusring {
    outline-color: #000;
}

code {
    @apply bg-gray-200 py-1 px-2 rounded text-sm;
}

.code-block {
    @apply bg-gray-100 overflow-scroll px-4 text-sm mb-8;
}

// Keep footer at the bottom of the browser
footer {
    @apply mt-auto;
}
